<div class="flex-container">
  <div class="flex-container-border">
    <div class="flex-global-header-item">
      <mat-label>Mini Project - Payment Manager Tool</mat-label>
      <img
        matTooltip="A mini project that mocks a payment management system."
        matTooltipClass="mat-tooltip-header"
        class="logo-info"
        src="../../../assets/Icons/circle-info-solid.svg"
      />
    </div>
    <div class="scrollable-container">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title> Ex# 4: Mini Project One </mat-panel-title>
          <mat-panel-description> Requirements </mat-panel-description>
        </mat-expansion-panel-header>
        <ul>
          <span class="subHeading">Original Requirement</span>
          <li><b>Add Payment Component</b></li>
          <ul>
            <li class="formatListTag">
              This component will accept new payments.
            </li>
            <li class="formatListTag">
              Data to capture will include the following
              <ol>
                <li>Name: Name of the customer.</li>
                <li>Price: Price paid.</li>
                <li>Card Number: Card number used to make this payment.</li>
              </ol>
            </li>
          </ul>

          <li><b>List Payments Component</b></li>
          <ul>
            <li class="formatListTag">
              This component will list the details of the payments.
            </li>
            <ul>
              <li class="formatListTag">
                Column to be displayed are as follows
                <ol>
                  <li>S.No: Dynamic row ID.</li>
                  <li>Name: Name of the customer.</li>
                  <li>Price: Price paid.</li>
                  <li>Card Number: Card number used to make this payment.</li>
                  <li>
                    Operations: User can edit or delete this record using edit
                    or delete button.
                  </li>
                </ol>
              </li>
            </ul>
            <li class="formatListTag">
              Display the count of the total payments made.
            </li>
          </ul>

          <li><b>Angular Services</b></li>
          <ul>
            <li class="formatListTag">
              Payment details must be tracked with the help of a service.
            </li>
          </ul>
        </ul>

        <ul>
          <span class="subHeading">Updated Requirement - 1</span>
          <li><b>Custom Pipes</b></li>
          <ul>
            <li class="formatListTag">
              Search payment data by the column name using a custom pipe in the List payment component. The
              price column will have to match the exact number but the other
              columns can match the search value.
            </li>
            <li class="formatListTag">
              Mask the credit card number on display using a custom pipe.
            </li>
            <li class="formatListTag">
              Display the 'Visa' image if the card number starts with 50 or
              above and 'Master' otherwise. The minimum search criteria is 2
              digits.
            </li>
            <li class="formatListTag">
              While displaying the name column, the first letter must always
              start with a capital.
            </li>
          </ul>
        </ul>

        <ul>
          <span class="subHeading">Updated Requirement - 2</span>
          <li><b>Custom Directive</b></li>
          <ul>
            <li class="formatListTag">
              Display a hyphen after every 4 digits while displaying the card
              number.
            </li>
          </ul>
        </ul>

        <ul>
          <span class="subHeading">Updated Requirement - 3</span>
          <li><b>Communication between components</b></li>
          <ul>
            <li class="formatListTag">
              Move the search UI controls from 'List Payment' to its parent
              component. This has to be done using @Input for the 'List Payment'
              to receive the criteria from its parent.
            </li>
          </ul>
        </ul>

        <ul>
          <span class="subHeading">Updated Requirement - 4</span>
          <li><b>Template-driven form validations</b></li>
          <ul>
            <li class="formatListTag">
              Apply template-driven form validations while adding and editing
              payment details.
            </li>
          </ul>
        </ul>
      </mat-expansion-panel>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title> Add a new payment </mat-panel-title>
        </mat-expansion-panel-header>
        <app-mponeaddpayment></app-mponeaddpayment>
      </mat-expansion-panel>
    </div>
    <div class="flex-body-item-row">
      <mat-form-field appearance="fill">
        <mat-label>Search by column</mat-label>
        <mat-select
          [(ngModel)]="dropdownDataFilterCriteria"
          (selectionChange)="onSelectionValueChanged()"
          matTooltip="Price column is an exact match"
          matTooltipClass="mat-tooltip-select"
        >
          <mat-option
            value="{{ searchColumn.key }}"
            *ngFor="let searchColumn of searchColumnCollection | keyvalue"
          >
            {{ searchColumn.value }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="matInputField" appearance="fill">
        <mat-label>Search</mat-label>
        <input
          matInput
          type="text"
          placeholder="Value to search"
          [(ngModel)]="inputSearchValue"
          autocomplete="off"
          (keyup)="onInputSearchKeyUp()"
        />
      </mat-form-field>
    </div>
    <app-mponelistpayments
      [dataFilterCriteria]="dropdownDataFilterCriteria"
      [dataFilterSearchValue]="inputSearchValue"
      [events]="eventSubject.asObservable()"
    ></app-mponelistpayments>
  </div>
</div>
